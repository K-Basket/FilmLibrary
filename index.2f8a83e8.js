async function e(e){const t=await fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=c05652c397b2dd01065e8cba4a8a45ab&page=${e}`);return await t.json()}async function t(e,t){const n=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=c05652c397b2dd01065e8cba4a8a45ab&query=${e}&page=${t}&include_adult=false`);return await n.json()}const n=document.querySelector(".js-btn-home"),s=document.querySelector(".js-btn-mylibrary"),a=document.querySelector("#search-form"),i=document.querySelector(".js-btn-watched"),c=document.querySelector(".js-btn-queue"),o=document.querySelector("#movie-list"),l=document.querySelector("#btn-load-more");function r(e){return e.map((e=>`\n<li class="movie-item" id="movie-item" data-id="${e.id}">\n  <article class="movie article">\n    <div class="movie-card-thumb">\n      ${e.poster_path?`\n      <img\n        src="https://image.tmdb.org/t/p/w500${e.poster_path}"\n        alt="poster ${e.title}"\n      />`:'<img\n        src="https://image.tmdb.org/t/p/w500/dykOcAqI01Fci5cKQW3bEUrPWwU.jpg"\n        alt="poster none"\n      />'}\n    </div>\n    <div class="movie-content">\n      <h3 class="movie-title">${e.title}</h3>\n      <p class="movie-genre">${e.genre_ids} | ${e.release_date}</p>\n    </div>\n  </article>\n</li>`)).join("")}function d(e,t){e.insertAdjacentHTML("beforeend",t)}function u(e){if("UL"!==e.target.nodeName)return e.target.closest("#movie-item").dataset.id}function m(e){const{height:t}=e.firstElementChild.getBoundingClientRect();window.scrollBy({top:2*t,behavior:"smooth"})}function v(e,t){t.page===t.total_pages?e.classList.add("visually-hidden"):e.classList.remove("visually-hidden")}console.log("ðŸ’™ðŸ’› K-Basket"),n.addEventListener("click",(function(){n.classList.add("btn-black"),s.classList.remove("btn-black"),a.classList.remove("visually-hidden"),i.classList.add("visually-hidden"),c.classList.add("visually-hidden")})),s.addEventListener("click",(function(){n.classList.remove("btn-black"),s.classList.add("btn-black"),a.classList.add("visually-hidden"),i.classList.remove("visually-hidden"),c.classList.remove("visually-hidden")})),window.addEventListener("load",g),l.addEventListener("click",g),a.addEventListener("submit",(async function(e){if(e.preventDefault(),y=e.currentTarget.searchQuery.value,""===y)return;o.innerHTML="",h=1,l.removeEventListener("click",g),l.addEventListener("click",b),e.currentTarget.reset();try{const e=await t(y,h);console.log("Search",e),d(o,r(e.results)),v(l,e),h+=1}catch(e){console.log(e)}})),o.addEventListener("click",(async function(e){console.log(u(e))}));let h=1,y="";async function g(){try{const t=await e(h);console.log("Trending",t),d(o,r(t.results)),v(l,t),1!==h&&m(o),h+=1}catch(e){console.warn(e)}}async function b(){try{const e=await t(y,h);console.log("SearchLoadMoree",e),d(o,r(e.results)),m(o),v(l,e),h+=1}catch(e){console.log(e)}}
//# sourceMappingURL=index.2f8a83e8.js.map
