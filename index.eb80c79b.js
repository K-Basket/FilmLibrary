async function e(e){const t=await fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=c05652c397b2dd01065e8cba4a8a45ab&page=${e}`);return await t.json()}async function t(e,t){const n=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=c05652c397b2dd01065e8cba4a8a45ab&query=${e}&page=${t}&include_adult=false`);return await n.json()}async function n(e){const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=c05652c397b2dd01065e8cba4a8a45ab`);return await t.json()}const s=document.querySelector(".js-btn-home"),a=document.querySelector(".js-btn-mylibrary"),o=document.querySelector("#search-form"),i=document.querySelector(".js-btn-watched"),c=document.querySelector(".js-btn-queue"),l=document.querySelector("#movie-list"),d=document.querySelector("#btn-load-more"),r=document.querySelector(".js-backdrop"),m=document.querySelector(".js-modal-close"),u=document.querySelector("#modal");function p(e){return e.map((e=>`\n<li class="movie-item" id="movie-item" data-id="${e.id}">\n  <article class="movie article">\n    <div class="movie-card-thumb">\n      ${e.poster_path?`\n      <img\n        src="https://image.tmdb.org/t/p/w500${e.poster_path}"\n        alt="poster ${e.title}"\n      />`:'<img\n        src="https://image.tmdb.org/t/p/w500/dykOcAqI01Fci5cKQW3bEUrPWwU.jpg"\n        alt="poster none"\n      />'}\n    </div>\n    <div class="movie-content">\n      <h3 class="movie-title">${e.title}</h3>\n      <p class="movie-genre">${e.genre_ids} | ${e.release_date}</p>\n    </div>\n  </article>\n</li>`)).join("")}function v(e,t){e.insertAdjacentHTML("beforeend",t)}function b(e){if("UL"!==e.target.nodeName)return e.target.closest("#movie-item").dataset.id}function h(e){const{height:t}=e.firstElementChild.getBoundingClientRect();window.scrollBy({top:2*t,behavior:"smooth"})}function y(e,t){t.page===t.total_pages?e.classList.add("visually-hidden"):e.classList.remove("visually-hidden")}console.log("ðŸ’™ðŸ’› K-Basket"),s.addEventListener("click",(function(){s.classList.add("btn-black"),a.classList.remove("btn-black"),o.classList.remove("visually-hidden"),i.classList.add("visually-hidden"),c.classList.add("visually-hidden")})),a.addEventListener("click",(function(){s.classList.remove("btn-black"),a.classList.add("btn-black"),o.classList.add("visually-hidden"),i.classList.remove("visually-hidden"),c.classList.remove("visually-hidden")})),window.addEventListener("load",w),d.addEventListener("click",w),o.addEventListener("submit",(async function(e){if(e.preventDefault(),L=e.currentTarget.searchQuery.value,""===L)return;l.innerHTML="",g=1,d.removeEventListener("click",w),d.addEventListener("click",f),e.currentTarget.reset();try{const e=await t(L,g);console.log("Search",e),v(l,p(e.results)),y(d,e),g+=1}catch(e){console.log(e)}}));let g=1,L="";async function w(){try{const t=await e(g);v(l,p(t.results)),y(d,t),1!==g&&h(l),g+=1}catch(e){console.warn(e)}}async function f(){try{const e=await t(L,g);console.log("SearchLoadMoree",e),v(l,p(e.results)),h(l),y(d,e),g+=1}catch(e){console.log(e)}}function k(){document.body.classList.remove("show-modal","stop-scroll"),u.innerHTML=""}l.addEventListener("click",(async function(e){const t=b(e);console.log(t),b(e)&&document.body.classList.add("show-modal","stop-scroll");try{const e=await n(t);console.log("Id Film",e),u.insertAdjacentHTML("beforeend",`\n  <div class="modal-poster-wrap">\n    <img\n      class="modal-poster-img"\n      src="https://image.tmdb.org/t/p/w500/${(s=e).poster_path}"\n      alt="poster ${s.title}"\n    />\n  </div>\n  <div class="modal-movie-description">\n    <h2 class="modal-movie-title">${s.title}</h2>\n    <ul class="modal-movie-descrn-list">\n      <li class="modal-movie-descrp-item">\n        <p class="descrp-title">Vote / Votes</p>\n        <p class="descrp-text">\n          <span>${s.vote_average.toFixed(1)}</span> <span>/</span> <span>${s.vote_count}</span>\n        </p>\n      </li>\n      <li class="modal-movie-descrp-item">\n        <p class="descrp-title">Popularity</p>\n        <p class="descrp-text">${s.popularity.toFixed(1)}</p>\n      </li>\n      <li class="modal-movie-descrp-item">\n        <p class="descrp-title">Original Title</p>\n        <p class="descrp-text">${s.original_title}</p>\n      </li>\n      <li class="modal-movie-descrp-item">\n        <p class="descrp-title">Genre</p>\n        <p class="descrp-text">${s.genres.map((e=>e.name)).join(", ")}</p>\n      </li>\n    </ul>\n    <p class="modal-movie-about-title">About</p>\n    <p class="modal-movie-about-text">\n      ${s.overview}\n    </p>\n    <div class="modal-btn">\n      <button class="btn btn-watched" type="button">add to Watched</button>\n      <button class="btn btn-queue" type="button">add to Queue</button>\n    </div>\n  </div>`)}catch(e){console.warn(e)}var s})),m.addEventListener("click",k),r.addEventListener("click",(function(e){e.currentTarget===e.target&&k()})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&k()}));
//# sourceMappingURL=index.eb80c79b.js.map
